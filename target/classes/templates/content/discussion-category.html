<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
	<meta charset="UTF-8">
	<title>토론 게시판</title>
	<link rel="stylesheet" href="../../static/css/content/discussion.css">
	<script src="../../static/js/content/discussion.js" defer></script>
</head>
<body>
<main>
	<h1>토론 게시판</h1>
	<header>
		<div>
			<span>등록주제:</span>
			<b th:text="${paginatedCount}">0개</b>
		</div>
		<ul>
			<li><a href="#" th:href="@{/discussion/category(size=${pageInfo.size}, sort = 'recent')}">최신순</a></li>
			<li><a href="#" th:href="@{/discussion/category(size=${pageInfo.size}, sort = 'title')}">제목순</a></li>
			<li>
				<label>
					<span>보기설정</span>
					<select id="view-size-select">
						<option value="10" th:selected="${pageInfo.size == 10}">10개</option>
						<option value="15" th:selected="${pageInfo.size == 15}">15개</option>
						<option value="20" th:selected="${pageInfo.size == 20}">20개</option>
					</select>
				</label>
			</li>
		</ul>
	</header>

	<section class="all-book-discussion">
		<div class="one-book-discussion" th:each="discussion : ${paginatedDiscussions}">
			<div class="image-container">
				<img th:src="${discussion.base64Image != null ? discussion.base64Image : null}" alt="도서 이미지"/>
			</div>
			<div class="discussion-title-recent">
				<h2 th:text="${discussion.getBookTitle()}">책 제목</h2>
				<div class="discussion-title">
					<span>토론 주제:</span>
					<p th:text="${discussion.getTopic()}">토론 주제 내용</p>
				</div>
				<div class="discussion-recent">
					<p th:text="${discussion.getRecentComment()}">가장 최근에 남겨진 의견</p>
				</div>
				<div class="discussion-button-section">
					<input type="hidden" name="isbn" th:value="${discussion.getBookIsbn()}">
<!--					<button class="book-button" th:onclick="'location.href=/book/details/' + ${discussion.getBookIsbn()}">책 보러가기</button>-->
<!--					<button class="discussion-button" th:onclick="'location.href=/discussion/details/' + ${discussion.getId()}">토론 참여하기</button>-->
				</div>
			</div>
		</div>
	</section>
</main>
</body>
</html>
