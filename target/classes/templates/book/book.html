<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
	<meta charset="UTF-8">
	<title th:text="${book.getDetail()}">책 상세 정보</title>
	<link rel="stylesheet" href="../../static/css/content/book.css">
	<script src="https://kit.fontawesome.com/d19fdaba43.js" crossorigin="anonymous"></script>
	<script src="../../static/js/content/book.js" defer></script>
</head>
<body>
<main>
	<nav id="category-nav">
		<ol>
			<li th:text="${categories}">카테고리 정보 없음</li>
		</ol>
	</nav>
	<h1 th:text="${book.getTitle()}">책 제목</h1>
	<h2 th:text="|${book.getAuthor()} / ${book.getPublisher()}|">저자 / 출판사</h2>
	<article>
		<section>
			<div class="main-image-container">
				<img th:src="${book.getBase64Image()}" src="../../static/img/main/book_main.jpg" alt="책 이미지" />
			</div>
		</section>

		<form method="post" th:action="@{/user/lendbook}" th:id="${book.isbn}" name="book">
			<div class="summary-info-discussion">
				<div class="discussion-summary">
					<div>
						<span class="participant">토론 참여자</span><br>
						<span class="count" th:text="${bookParticipantCount}">0명</span><br>
						<span class="topics" th:text="|(${bookDiscussionCount}개의 주제)|">(0개의 주제)</span>
					</div>
				</div>
			</div>
			<div class="loan-info">
				<div class="available-loan">
					<b>대출 가능 여부:</b>
					<span th:text="${book.getCopiesAvailable() > 0 ? '가능' : '불가'}">불가</span>
				</div>
				<div class="available-book">
					<b>대출:</b>
					<div>
						<span th:text="${book.getCopiesAvailable()}">0</span>
						<span>/</span>
						<span>50</span>
					</div>
				</div>
				<div class="available-date">
					<b>대출 가능일:</b>
					<span th:text="${firstReturnDate}">미정</span>
				</div>
			</div>

			<div class="login-to-loan" th:if="${#authentication == null}">
				<span><a th:href="@{/login}">로그인</a></span>
				<b>후 대출을 해보세요</b>
			</div>

<!--			<button type="button" class="discussion-btn" th:onclick="'location.href=\'/discussion/book/' + ${book.isbn} + '\'">토론하러 가기</button>-->
			<button type="button" class="heart-btn">
				<i class="bi bi-heart-fill"></i>
				찜하기
			</button>
			<button type="submit" class="loan-btn" th:disabled="${book.getCopiesAvailable() <= 0}">대출하기</button>
		</form>
	</article>

	<nav id="book-info-navigator">
		<ul>
			<li>
				<a href="#book-info-section">
					<i class="bi bi-dash-lg"></i>
					<span>줄거리</span>
				</a>
			</li>
			<li>
				<a href="#book-help-section">
					<i class="bi bi-dash-lg"></i>
					<span>정보</span>
				</a>
			</li>
			<li>
				<a href="#review-form">
					<i class="bi bi-dash-lg"></i>
					<span>리뷰</span>
				</a>
			</li>
		</ul>
	</nav>

	<section id="book-info-section">
		<div class="book-img-container">
			<p th:text="${book.detail}">책 세부 설명</p>
		</div>
	</section>

	<section id="book-help-section">
		<div>
			<h4>기본 정보</h4>
			<div class="isbn">
				<b>ISBN</b>
				<span th:text="${book.getIsbn()}">정보 없음</span><br>
			</div>
			<div class="release-date">
				<b>발행(출시)일자</b>
				<span th:text="${book.getPublicationDate()}">정보 없음</span><br>
			</div>
			<div class="pages">
				<b>쪽수</b>
				<span th:text="${book.getPageCount()}">정보 없음</span>
			</div>
		</div>
	</section>
	<section id="review-form">
		<div class="review-score-container">
			<section class="review-score-section">
				<div class="review-total-count-container">
					<span>리뷰 총 </span><span class="review-total-count">13,712</span><span> 건</span>
				</div>

				<div class="review-total-score-container">
					<span class="review-total-score">4.9</span><span>점</span>
				</div>

				<div class="review-star-container">
					<div class="review-stars">
						<i class="fa-solid fa-star"></i>
						<i class="fa-solid fa-star"></i>
						<i class="fa-regular fa-star"></i>
						<i class="fa-regular fa-star"></i>
						<i class="fa-regular fa-star"></i>
					</div>
				</div>
			</section>

			<section class="review-score-bar-section">
				<div class="review-score-bar-container">
					<span>5점</span>
					<div class="review-score-bar-bg">
						<div class="review-score-bar"></div>
					</div>
					<span>00%</span>
				</div>
				<div class="review-score-bar-container">
					<span>4점</span>
					<div class="review-score-bar-bg">
						<div class="review-score-bar"></div>
					</div>
					<span>00%</span>
				</div>
				<div class="review-score-bar-container">
					<span>3점</span>
					<div class="review-score-bar-bg">
						<div class="review-score-bar"></div>
					</div>
					<span>00%</span>
				</div>
				<div class="review-score-bar-container">
					<span>2점</span>
					<div class="review-score-bar-bg">
						<div class="review-score-bar"></div>
					</div>
					<span>00%</span>
				</div>
				<div class="review-score-bar-container">
					<span>1점</span>
					<div class="review-score-bar-bg">
						<div class="review-score-bar"></div>
					</div>
					<span>00%</span>
				</div>

			</section>
		</div>

		<div class="review-sort-container">
			<ul>
				<li><a href="#" active>최신순</a></li>
				<li><a href="#">인기순</a></li>
				<li><a href="#">평점 높은 순</a></li>
				<li><a href="#">평점 낮은 순</a></li>
			</ul>
		</div>

		<div class="review-container">
			<div class="review">
				<section class="review-user-section">
					<div>
						<div class="review-user-image" style="background-image: url('https://spy-family.net/tvseries/assets/img/top/chara_thumb2.png')"></div>
						<span class="review-user-name">ANYA FORGER</span>
					</div>
					<div>
						<div class="review-user-stars">
							<i class="fa-solid fa-star"></i>
							<i class="fa-solid fa-star"></i>
							<i class="fa-regular fa-star"></i>
							<i class="fa-regular fa-star"></i>
							<i class="fa-regular fa-star"></i>
						</div>
					</div>
				</section>
				<section class="review-section">
					<span class="review-option">[옵션] [펜슬기획]03코렉트업베이지</span>
					<span class="review-content">
                        평소 팩트는 22호 파운데이션은 21호 ~22호 사이를 섞어서 사용 합니다
                        웜톤인데 코렉트 업베이지가 저랑은 색이 좀더 잘 맞네요
                        코렉트 업베이지는 노란끼가 좀더 있는 거 같고
                        코렉트 베이지는 붉은끼가 살짝 있는 듯 합니다
                        얼굴에 커피반점이 생겨서 가리는 용으로 샀는데 코렉트업베지라 밝아서 가려질까 했는데 예상외로 자연스럽게 잘가려 줘요
                    </span>
				</section>
				<section class="review-recommend-section">
					<div>
						<i class="fa-solid fa-thumbs-up"></i>
						<span>112</span>
					</div>
				</section>
			</div>
			<div class="review">
				<section class="review-user-section">
					<div>
						<div class="review-user-image" style="background-image: url('https://spy-family.net/tvseries/assets/img/top/chara_thumb1.png')"></div>
						<span class="review-user-name">LOID FORGER</span>
					</div>
					<div>
						<div class="review-user-stars">
							<i class="fa-solid fa-star"></i>
							<i class="fa-regular fa-star"></i>
							<i class="fa-regular fa-star"></i>
							<i class="fa-regular fa-star"></i>
							<i class="fa-regular fa-star"></i>
						</div>
					</div>
				</section>
				<section class="review-section">
					<span class="review-option">[옵션] [펜슬기획]03코렉트업베이지</span>
					<span class="review-content">
                        뭐같음
                    </span>
				</section>
				<section class="review-recommend-section">
					<div>
						<i class="fa-solid fa-thumbs-up"></i>
						<span>11</span>
					</div>
				</section>
			</div>
			<div class="review">
				<section class="review-user-section">
					<div>
						<div class="review-user-image" style="background-image: url('https://spy-family.net/tvseries/assets/img/top/chara_thumb3.png')"></div>
						<span class="review-user-name">YOR FORGER</span>
					</div>
					<div>
						<div class="review-user-stars">
							<i class="fa-solid fa-star"></i>
							<i class="fa-solid fa-star"></i>
							<i class="fa-solid fa-star"></i>
							<i class="fa-solid fa-star"></i>
							<i class="fa-regular fa-star"></i>
						</div>
					</div>
				</section>
				<section class="review-section">
					<span class="review-option">[옵션] [펜슬기획]03코렉트업베이지</span>
					<span class="review-content">
                        평소 팩트는 22호 파운데이션은 21호 ~22호 사이를 섞어서 사용 합니다
                        웜톤인데 코렉트 업베이지가 저랑은 색이 좀더 잘 맞네요
                        코렉트 업베이지는 노란끼가 좀더 있는 거 같고
                        코렉트 베이지는 붉은끼가 살짝 있는 듯 합니다
                        얼굴에 커피반점이 생겨서 가리는 용으로 샀는데 코렉트업베지라 밝아서 가려질까 했는데 예상외로 자연스럽게 잘가려 줘요
                    </span>
				</section>
				<section class="review-recommend-section">
					<div>
						<i class="fa-solid fa-thumbs-up"></i>
						<span>1</span>
					</div>
				</section>
			</div>
		</div>
	</section>
</main>
</body>
</html>
