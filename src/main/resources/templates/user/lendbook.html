<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
>
<head>
	<meta charset="UTF-8">
	<title>내가 얼마나 대여를 했을까요?</title>
	<link rel="stylesheet" href="../../static/css/content/lendbook.css" type="text/css">
</head>
<body>
<h1>나의 대여 목록</h1>
<header>
	<div>
		<span>대여한 권수:</span>
		<b th:text="${activeLoanCount} + '건'">13건</b>
	</div>
</header>

<hr/>

<main>
	<div class="wishlist" id="wishlist-container">
		<div th:if="${loanBookMap.isEmpty()}">
			<p>대여한 책이 없어요ㅠㅠ</p>
			<a href="../book/book-category" class="link">책 보러가기!</a>
		</div>
		<div th:if="${!loanBookMap.isEmpty()}">
			<ul>
				<li th:each="entry : ${loanBookMap}">
					<div class="book-item">
						<!-- Book Image -->
						<img th:src="${entry.value.getBase64Image()}" alt="Book Cover" class="book-cover" />

						<!-- Book Title and Author -->
						<div class="book-details">
							<h3 th:text="${entry.value.getTitle()}">Book Title</h3>
							<p th:text="${entry.value.getAuthor()}">Author</p>
						</div>

						<!-- Loan Return Date -->
						<div class="loan-info">
							<p th:text="'반납 예정일: ' + ${#temporals.format(entry.key.getReturnDate(), 'yyyy-MM-dd')}">
								반납 예정일
							</p>
						</div>
					</div>
				</li>
			</ul>
		</div>
	</div>

</main>
</body>
</html>